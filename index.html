<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>

    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.4.2/pure-min.css">
    <link rel="stylesheet" href="css/calculator.css">

</head>
<body ng-app="calculator_app">

<div class="page pure-g" ng-controller="CalculatorCtrl">

    <div class="pure-u-1-2">
        <p>Kwota: <input type="text" ng-model="data.amount" ng-change="calculate()" /></p>
        <p>Ilość rat: <input type="text" ng-model="data.installmentsCnt" ng-change="calculate()" /></p>
        <p>Oprocentowanie: <input type="text" ng-model="data.rate" ng-change="calculate()" /></p>
        <p><button ng-click="calculate()">Przelicz</button></p>

        <table class="pure-table pure-table-striped">
            <thead>
            <tr>
                <th>Kwota</th>
                <th>Rat</th>
                <th>%</th>
                <th>Rata</th>
                <th>Kapitał</th>
                <th>Odsetki</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="installment in savedInstallments">
                <td>{{installment.amount}}</td>
                <td>{{installment.installmentsCnt}}</td>
                <td>{{installment.interestRate}}%</td>
                <td>{{installment.rate | number:2}}</td>
                <td>{{installment.capital | number:2}}</td>
                <td>{{installment.interest | number:2}}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="pure-u-1-2">
        <table class="pure-table pure-table-striped">
            <thead>
            <tr>
                <th>#</th>
                <th>Rata</th>
                <th>Kapitał</th>
                <th>Odsetki</th>
                <th>Pozostało</th>
                <th>Akcja</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="installment in installments">
                <td>{{installment.index}}</td>
                <td>{{installment.rate | number:2}}</td>
                <td>{{installment.capital | number:2}}</td>
                <td>{{installment.interest | number:2}}</td>
                <td>{{installment.remaining | number:2}}</td>
                <td><a href ng-click="saveInstallment(installment)">Zapisz</a></td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular.min.js"></script>

<script src="js/calculator.js"></script>

</body>
</html>